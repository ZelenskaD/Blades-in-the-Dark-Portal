{% extends "home/basic.html" %}

{% block title %}
Blades In The Dark
{% endblock %}

{% block hero_class %}
campaign-background
{% endblock %}

{% block content %}
<section class="text-white py-4 py-xl-5">
    <div class="container-fluid justify-content-center">
        <div class="border rounded border-0 d-flex flex-column justify-content-center align-items-center p-4 py-5"
             style="background: url('{{ campaign.campaign_picture }}' or 'default-card.png') center / cover;height: 300px;width: 1200px; margin-left: 300px; position: relative;">
            <h4 class="name-campaign">{{ campaign.name }}</h4>
            <div class="row">
                <div class="col text-center">
                    <p class="mb-4" style="background-color:white; color:#1D3853">{{ campaign.description }}</p>
                    <div style="display: flex; justify-content: center;">
                        <button class="btn btn-light fs-5 py-2 px-4 me-2" type="button">Crew</button>
                        <a href="{{ url_for('campaigns.leave_campaign', campaign_id=campaign.id) }}" class="btn btn-primary fs-5 py-2 px-4">Leave</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<div class="container-fluid" style="margin-left: 90px; margin-bottom: 50px;">
    <div class="row">
        <div class="col-md-8 col-lg-9">
            <h4 style="text-align: center; background-color: white; color: black;">Session History</h4>
            <ul class="list-group">
                {% for session in sessions %}
                <li class="list-group-item">
                    <div style="display: flex; justify-content: space-between;">
                        <span>{{ session.title }}</span>
                        <div>

                        <span>
    <a href="{{ url_for('session.edit_session', session_id=session.id) }}"><i class="fa-solid fa-pen-to-square"></i></a>
</span>
<form action="{{ url_for('session.delete_session', session_id=session.id) }}" method="POST" style="display:inline;">
                <button type="submit" class="btn btn-lg btn-link" style="color:red">
                    <i class="fa-solid fa-trash"></i>
                </button>
            </form>

                        </div>
                    </div>
                    <p>{{ session.notes }}</p>
                </li>
                {% endfor %}
            </ul>
        </div>
        <div class="col-md-4 col-lg-2 offset-lg-0">
            <div class="btn-group" role="group">
                <a href="{{ url_for('session.add_session', campaign_id=campaign.id) }}" class="btn btn-primary" style="display: block;">New Session</a>
            </div>
        </div>
    </div>
</div>
<script src="{{ url_for('static', filename='bootstrap/js/bootstrap.min.js') }}"></script>
{% endblock %}
